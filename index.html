<script>
  const API_KEY    = 'd8525791b85b407f925791b85b107f22';
  const STATION_ID = 'IMUNIC376';
  const PROXY      = 'https://thingproxy.freeboard.io/fetch/';
  const BASE       = 'https://api.weather.com/v2/pws/';

  function proxyUrl(path) {
    const url = `${BASE}${path}?stationId=${STATION_ID}&format=json&units=m&apiKey=${API_KEY}`;
    return PROXY + encodeURIComponent(url);
  }

  async function fetchData() {
    // spinners...
    try {
      let res = await fetch(proxyUrl('observations/current'));
      if (!res.ok) throw new Error(`Status ${res.status}`);
      let cur = (await res.json()).observations[0];
      // render current...

      res = await fetch(proxyUrl('forecast/daily/5day'));
      let days = (await res.json()).forecasts.slice(1,5);
      // render forecast...
    } catch (err) {
      console.error(err);
      // user fallback...
    }
  }
  fetchData();
  setInterval(fetchData, 600000);
</script>
